<% if @capacity.errors.any? %>
  <div class="alert alert-danger">
    <ul class="mb-0">
      <% @capacity.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<div class="mb-3">
  <label for="period_start" class="form-label">Period Start</label>
  <input type="date" class="form-control" id="period_start" name="capacity[period_start]" value="<%= @capacity.period_start %>" required>
</div>

<div class="mb-3">
  <label for="period_type" class="form-label">Period Type</label>
  <select class="form-select" id="period_type" name="capacity[period_type]" required>
    <option value="">Select a period type</option>
    <option value="week" <%= 'selected' if @capacity.period_type == 'week' %>>Week</option>
    <option value="month" <%= 'selected' if @capacity.period_type == 'month' %>>Month</option>
  </select>
</div>

<div class="mb-3">
  <label for="gross_capacity" class="form-label">Gross Capacity</label>
  <input type="number" class="form-control" id="gross_capacity" name="capacity[gross_capacity]" value="<%= @capacity.gross_capacity %>" step="0.01" min="0" required>
</div>

<div class="mb-3">
  <label for="planned_leaves" class="form-label">Planned Leaves</label>
  <input type="number" class="form-control" id="planned_leaves" name="capacity[planned_leaves]" value="<%= @capacity.planned_leaves %>" step="0.01" min="0" required>
</div>

<div class="mb-3">
  <label for="unplanned_leaves" class="form-label">Unplanned Leaves</label>
  <input type="number" class="form-control" id="unplanned_leaves" name="capacity[unplanned_leaves]" value="<%= @capacity.unplanned_leaves %>" step="0.01" min="0" required>
</div>

<div class="mb-3">
  <label for="source" class="form-label">Source</label>
  <select class="form-select" id="source" name="capacity[source]" required>
    <option value="">Select a source</option>
    <option value="imported" <%= 'selected' if @capacity.source == 'imported' %>>Imported</option>
    <option value="manual" <%= 'selected' if @capacity.source == 'manual' %>>Manual</option>
  </select>
</div>

<div class="d-flex justify-content-end gap-2">
  <a href="/capacities" class="btn btn-light">Cancel</a>
  <button type="submit" class="btn btn-primary">Save Capacity</button>
</div> 